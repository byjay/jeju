<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°•ê·€ì„ ë‹˜ì„ ìœ„í•œ ì œì£¼ì—¬í–‰ í”Œë˜ë„ˆ - by bong</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAOAEMIvJc9VndXLYgmUnWoAuXjlOYzDtg&callback=initApp&libraries=places,directions&v=weekly" defer></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap');
        
        * { font-family: 'Noto Sans KR', sans-serif; }
        
        :root {
            --primary-blue: #3b82f6;
            --primary-purple: #7c3aed;
            --success-green: #10b981;
            --warning-orange: #f59e0b;
            --danger-red: #ef4444;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-800: #1f2937;
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 0;
            margin: 0;
        }

        .main-container {
            background: white;
            margin: 2rem auto;
            max-width: 1400px;
            border-radius: 20px;
            box-shadow: var(--shadow-lg);
            overflow: hidden;
        }

        .header-gradient {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-purple) 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .day-tab {
            transition: all 0.3s ease;
            border-radius: 12px;
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            margin: 0 0.25rem;
        }

        .day-tab.active {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--primary-purple) 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
        }

        .day-tab:not(.active) {
            background: var(--gray-100);
            color: var(--gray-800);
        }

        .day-tab:not(.active):hover {
            background: #e5e7eb;
            transform: translateY(-2px);
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.75rem;
        }

        .option-card {
            transition: all 0.3s ease;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 1rem;
            cursor: pointer;
            background: white;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .option-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .option-card:hover::before {
            left: 100%;
        }

        .option-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            border-color: var(--primary-blue);
        }

        .option-card.selected {
            border-color: var(--primary-blue);
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
        }
        
        .option-card .card-content-wrapper {
            flex-grow: 1;
        }

        .option-card .card-number {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--primary-blue);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.7rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        
        .option-card h4 {
            font-size: 0.9rem;
            line-height: 1.3;
        }
        
        .option-card .cost-badge {
            font-size: 0.8rem;
            padding: 0.2rem 0.6rem;
        }
        
        .option-card .rating-stars { font-size: 0.8rem; }
        .option-card .text-sm { font-size: 0.75rem; }
        .option-card .tag-container {
            margin-top: auto; /* Push tags to the bottom */
        }
        .option-card .text-xs { font-size: 0.65rem; }


        .menu-panel {
            background: #f8fafc;
            border-radius: 12px;
            padding: 1rem;
            margin-top: 0.75rem;
            border: 1px solid #e2e8f0;
            max-height: 0;
            overflow: hidden;
            transition: all 0.4s ease;
            opacity: 0;
            grid-column: 1 / -1; /* Span all columns */
        }

        .menu-panel.open {
            max-height: 500px;
            opacity: 1;
        }

        .menu-tabs {
            display: flex;
            border-bottom: 2px solid #e2e8f0;
            margin-bottom: 1rem;
        }

        .menu-tab {
            padding: 0.5rem 1rem;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.2s;
            font-weight: 500;
        }

        .menu-tab.active {
            color: var(--primary-blue);
            border-bottom-color: var(--primary-blue);
            background: rgba(59, 130, 246, 0.1);
        }

        .menu-content {
            display: none;
        }

        .menu-content.active {
            display: block;
        }

        .timeline-container {
            position: relative;
            padding-left: 2rem;
        }

        .timeline-line {
            position: absolute;
            left: 1rem;
            top: 0;
            bottom: 0;
            width: 3px;
            background: linear-gradient(180deg, var(--primary-blue) 0%, var(--primary-purple) 100%);
        }

        .timeline-dot {
            position: absolute;
            left: -8px;
            top: 1.5rem;
            width: 20px;
            height: 20px;
            background: var(--primary-blue);
            border: 4px solid white;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            z-index: 2;
        }

        .control-panel {
            background: white;
            border-radius: 16px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .control-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 0.25rem;
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .theme-search-panel {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .theme-btn {
            border-radius: 10px;
            padding: 0.75rem;
            font-weight: 600;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .theme-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
        }

        .sidebar-card {
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 1.5rem;
            overflow: hidden;
        }

        .sidebar-header {
            background: linear-gradient(135deg, var(--gray-800) 0%, #374151 100%);
            color: white;
            padding: 1rem;
            font-weight: 600;
        }

        .cost-badge {
            background: linear-gradient(135deg, var(--success-green) 0%, #059669 100%);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.875rem;
            font-weight: 600;
        }

        .rating-stars {
            color: #fbbf24;
        }

        .distance-info {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success-green);
            padding: 0.25rem 0.5rem;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        #map {
            border-radius: 12px;
            height: 400px;
            width: 100%;
        }

        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid var(--primary-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Mobile Optimizations */
        @media (max-width: 1023px) { /* lg breakpoint is 1024px */
            body {
                padding-top: 25vh; /* Make space for the fixed map */
            }
            .main-container {
                margin: 0;
                border-radius: 0;
                padding-top: 0;
            }
            #map-wrapper {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                z-index: 1000;
                background: white;
                box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            }
            #map {
                height: 25vh;
                border-radius: 0;
            }
             #map-wrapper .sidebar-header, #map-wrapper .p-4 > button {
                display: none;
            }
            #map-wrapper .p-4 {
                padding: 0 !important;
            }

            .header-gradient { padding: 1.5rem; }
            .day-tab { padding: 0.5rem 1rem; margin: 0.125rem; font-size: 0.875rem; }
        }

        @media (max-width: 768px) {
             .control-panel, .theme-search-panel {
                padding: 1rem;
            }
        }

         {
            body {
                background: white;
                margin: 0;
                padding: 0;
            }
            
            .main-container {
                margin: 0;
                box-shadow: none;
                border-radius: 0;
            }
            
            .control-panel,
            .theme-search-panel {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- í—¤ë” -->
        <div class="header-gradient">
            <h1 class="text-4xl font-bold mb-2">ğŸï¸ ê°•ê·€ì„ ë‹˜ì„ ìœ„í•œ ì œì£¼ì—¬í–‰ í”Œë˜ë„ˆ</h1>
            <p class="text-xl opacity-90">ì‹¤ì‹œê°„ GPS â€¢ í’ë¶€í•œ ë°ì´í„° â€¢ ì™„ë²½í•œ ë™ì„  ê´€ë¦¬</p>
            <div class="flex justify-center mt-4 space-x-6 text-sm opacity-80">
                <span><i class="fas fa-map-marker-alt mr-1"></i>ì‹¤ì‹œê°„ ìœ„ì¹˜ ì¶”ì </span>
                <span><i class="fas fa-database mr-1"></i>1,000+ ê²€ì¦ëœ ì¥ì†Œ</span>
                <span><i class="fas fa-route mr-1"></i>ìµœì  ê²½ë¡œ ê³„ì‚°</span>
            </div>
        </div>

        <div class="p-6">
            <!-- ì»¨íŠ¸ë¡¤ íŒ¨ë„ -->
            <div class="control-panel">
                <div class="flex flex-wrap justify-between items-center">
                    <div class="flex flex-wrap justify-center" id="day-tabs-container">
                        <!-- íƒ­ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                    </div>
                    <div class="flex flex-wrap gap-2">
                        <button id="theme-search-toggle" class="control-btn">
                            <i class="fas fa-search mr-2"></i>í…Œë§ˆ ê²€ìƒ‰
                        </button>
                        <button id="reset-button" class="control-btn">
                            <i class="fas fa-undo mr-2"></i>ë¦¬ì…‹
                        </button>
                        <button id="navi-mode-toggle" class="control-btn">
                            <i class="fas fa-location-arrow mr-2"></i>Live GPS
                        </button>
                    </div>
                </div>
            </div>

            <!-- í…Œë§ˆ ê²€ìƒ‰ íŒ¨ë„ -->
            <div id="theme-search-panel" class="theme-search-panel hidden">
                <h3 class="text-xl font-bold mb-4">ğŸ¯ í…Œë§ˆë³„ ì¥ì†Œ ê²€ìƒ‰</h3>
                <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3">
                    <button onclick="searchByTheme('restaurant')" class="theme-btn bg-red-100 text-red-700 hover:bg-red-200">
                        ğŸ½ï¸ ë§›ì§‘
                    </button>
                    <button onclick="searchByTheme('cafe')" class="theme-btn bg-yellow-100 text-yellow-700 hover:bg-yellow-200">
                        â˜• ì¹´í˜
                    </button>
                    <button onclick="searchByTheme('tourist_attraction')" class="theme-btn bg-green-100 text-green-700 hover:bg-green-200">
                        ğŸï¸ ê´€ê´‘ì§€
                    </button>
                    <button onclick="searchByTheme('beach')" class="theme-btn bg-blue-100 text-blue-700 hover:bg-blue-200">
                        ğŸ–ï¸ í•´ìˆ˜ìš•ì¥
                    </button>
                    <button onclick="searchByTheme('shopping')" class="theme-btn bg-purple-100 text-purple-700 hover:bg-purple-200">
                        ğŸ›ï¸ ì‡¼í•‘
                    </button>
                    <button onclick="searchByTheme('activity')" class="theme-btn bg-pink-100 text-pink-700 hover:bg-pink-200">
                        ğŸª ì²´í—˜
                    </button>
                </div>
                <div class="mt-4 p-3 bg-blue-50 rounded-lg">
                    <i class="fas fa-info-circle text-blue-600 mr-2"></i>
                    <span class="text-blue-800">ì§€ë„ì—ì„œ ë§ˆì»¤ë¥¼ í´ë¦­í•˜ë©´ ìƒì„¸ ì •ë³´ì™€ ë©”ë‰´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- ì¼ì • íŒ¨ë„ -->
                <div class="lg:col-span-2">
                    <div id="itinerary-container" class="space-y-6">
                        <!-- ì¼ì •ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                    </div>
                </div>

                <!-- ì‚¬ì´ë“œë°” -->
                <div class="lg:col-span-1">
                    <div class="lg:sticky top-6 space-y-6">
                        <!-- ì§€ë„ -->
                        <div class="sidebar-card" id="map-wrapper">
                            <div class="sidebar-header flex items-center">
                                <i class="fas fa-map-marked-alt mr-3"></i>
                                <span>ì‹¤ì‹œê°„ ì§€ë„ & ê²½ë¡œ</span>
                            </div>
                            <div class="p-4">
                                <div id="map"></div>
                                <button onclick="openInGoogleMaps()" class="w-full mt-4 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition font-semibold">
                                    <i class="fas fa-directions mr-2"></i>êµ¬ê¸€ë§µì—ì„œ ê¸¸ì°¾ê¸°
                                </button>
                            </div>
                        </div>

                        <!-- ì„ íƒëœ ì¼ì • -->
                        <div class="sidebar-card">
                            <div class="sidebar-header flex items-center">
                                <i class="fas fa-list-check mr-3"></i>
                                <span>ì˜¤ëŠ˜ì˜ ì—¬í–‰ ê³„íš</span>
                            </div>
                            <div id="selected-items-container" class="p-4 max-h-80 overflow-y-auto">
                                <!-- ì„ íƒëœ ì¼ì •ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                            </div>
                        </div>

                        <!-- ê²½ë¹„ ê³„ì‚° -->
                        <div class="sidebar-card">
                            <div class="sidebar-header flex items-center">
                                <i class="fas fa-calculator mr-3"></i>
                                <span>ì—¬í–‰ ê²½ë¹„ ê³„ì‚°</span>
                            </div>
                            <div class="p-4 space-y-4">
                                <!-- ì‚¬ìš©ì ì…ë ¥ ê²½ë¹„ -->
                                <div>
                                    <h4 class="font-semibold text-gray-700 mb-3">âœˆï¸ í•­ê³µë£Œ & ğŸ¨ ìˆ™ë°•ë¹„</h4>
                                    <div class="grid grid-cols-2 gap-3">
                                        <div>
                                            <label class="block text-sm text-gray-600 mb-1">í•­ê³µë£Œ (4ì¸)</label>
                                            <input type="number" id="flight-cost" class="w-full p-2 border border-gray-300 rounded-lg text-right" placeholder="400,000" step="10000">
                                        </div>
                                        <div>
                                            <label class="block text-sm text-gray-600 mb-1">ìˆ™ë°•ë¹„ (3ë°•)</label>
                                            <input type="number" id="hotel-cost" class="w-full p-2 border border-gray-300 rounded-lg text-right" placeholder="500,000" step="10000">
                                        </div>
                                    </div>
                                </div>

                                <!-- í˜„ì§€ ê²½ë¹„ -->
                                <div class="border-t pt-4">
                                    <h4 class="font-semibold text-gray-700 mb-3">ğŸï¸ í˜„ì§€ ì—¬í–‰ ê²½ë¹„</h4>
                                    <div class="space-y-2">
                                        <div class="flex justify-between items-center">
                                            <span class="text-gray-600">ğŸ´ ì‹ë¹„</span>
                                            <span class="font-semibold" id="cost-food">â‚©0</span>
                                        </div>
                                        <div class="flex justify-between items-center">
                                            <span class="text-gray-600">ğŸŸï¸ ì²´í—˜/ì…ì¥ë£Œ</span>
                                            <span class="font-semibold" id="cost-activity">â‚©0</span>
                                        </div>
                                        <div class="flex justify-between items-center">
                                            <span class="text-gray-600">â˜• ê¸°íƒ€</span>
                                            <span class="font-semibold" id="cost-etc">â‚©0</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- ì´ ê²½ë¹„ -->
                                <div class="border-t-2 pt-4">
                                    <div class="text-center bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg">
                                        <p class="text-sm text-gray-600 mb-1">ì´ ì˜ˆìƒ ì—¬í–‰ ê²½ë¹„</p>
                                        <p class="text-3xl font-bold text-blue-600" id="total-cost">â‚©0</p>
                                        <p class="text-xs text-gray-500 mt-1">4ì¸ ê°€ì¡± ê¸°ì¤€</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<script>
// ì œì£¼ë„ ì™„ì „ ë°ì´í„°ë² ì´ìŠ¤ (ë™ì„  ë° ìš”ì²­ì‚¬í•­ì— ë§ì¶° ì „ë©´ ê°œí¸)
const jejuDatabase = {
    // 1ì¼ì°¨: ê³µí•­ ~ ì• ì›”
    aewol_noraba: {
        id: 'aewol_noraba', name: 'ë…¸ë¼ë°”', rating: 4.4, reviewCount: 3210, cost: 50000, type: 'food', lat: 33.4752, lng: 126.3421, tags: ['í•´ë¬¼ë¼ë©´', 'ì˜¤ì…˜ë·°', 'ì• ì›”ë§›ì§‘'],
        menu: [{item: 'í•´ë¬¼ë¼ë©´', price: 12000}, {item: 'ë¬¸ì–´ë¼ë©´', price: 15000}, {item: 'ë„ì‹œë½', price: 9000}],
        reviews: [{author: 'ë©´ì¹˜ê¸°ì¥ì¸', rating: 5, text: 'ë°”ë‹¤ ë³´ë©´ì„œ ë¨¹ëŠ” ë¼ë©´ì€ ì§„ë¦¬ì…ë‹ˆë‹¤. í•´ë¬¼ì´ ì •ë§ ì‹±ì‹±í•´ìš”.'}]
    },
    aewol_oneunjeong: {
        id: 'aewol_oneunjeong', name: 'ì˜¤ëŠ”ì •ê¹€ë°¥ ì• ì›”ì ', rating: 4.3, reviewCount: 1502, cost: 20000, type: 'food', lat: 33.4633, lng: 126.3195, tags: ['ê¹€ë°¥', 'í¬ì¥', 'ê°„ë‹¨ì‹ì‚¬'],
        menu: [{item: 'ì˜¤ëŠ”ì •ê¹€ë°¥', price: 4000}, {item: 'ì¹˜ì¦ˆê¹€ë°¥', price: 4500}, {item: 'ì°¸ì¹˜ê¹€ë°¥', price: 5000}],
        reviews: [{author: 'ê¹€ë°¥ëŸ¬ë²„', rating: 4, text: 'ì„œê·€í¬ ë³¸ì ê¹Œì§€ ì•ˆê°€ë„ ë¼ì„œ ì¢‹ì•„ìš”. ë¯¸ë¦¬ ì „í™” ì£¼ë¬¸ í•„ìˆ˜!'}]
    },
    aewol_dwaeji: {
        id: 'aewol_dwaeji', name: 'ì• ì›” ê·¸ë•Œê·¸ì§‘', rating: 4.5, reviewCount: 1888, cost: 120000, type: 'food', lat: 33.4630, lng: 126.3150, tags: ['í‘ë¼ì§€', 'ê¹€ì¹˜ì°Œê°œ', 'ê°€ì¡±ì‹ì‚¬'],
        menu: [{item: 'í‘ë¼ì§€ ê·¼ê³ ê¸°(600g)', price: 69000}, {item: 'ê¹€ì¹˜ì°Œê°œ', price: 8000}, {item: 'ê³„ë€ì°œ', price: 3000}],
        reviews: [{author: 'ê³ ê¸°í‚¬ëŸ¬', rating: 5, text: 'ì§ì›ë¶„ë“¤ì´ ë‹¤ êµ¬ì›Œì£¼ì…”ì„œ í¸í•˜ê³ , ê³ ê¸° ì§ˆì´ ì •ë§ ì¢‹ì•„ìš”.'}]
    },
    aewol_monsant: {
        id: 'aewol_monsant', name: 'ëª½ìƒë“œì• ì›”', rating: 4.1, reviewCount: 2540, cost: 35000, type: 'cafe', lat: 33.4638, lng: 126.3106, tags: ['ì˜¤ì…˜ë·°', 'GDì¹´í˜', 'í¬í† ì¡´'],
        menu: [{item: 'ì•„ë©”ë¦¬ì¹´ë…¸', price: 7000}, {item: 'ë°”ë‹ë¼ë¼ë–¼', price: 8000}, {item: 'í•œë¼ë´‰ì—ì´ë“œ', price: 8500}],
        reviews: [{author: 'ì¸ìŠ¤íƒ€ê·¸ë˜ë¨¸', rating: 4, text: 'ë·°ëŠ” ì •ë§ ìµœê³ ì—ìš”. ì»¤í”¼ê°’ì€ ì¢€ ë¹„ì‹¸ì§€ë§Œ ìë¦¬ê°’ì´ë¼ ìƒê°í•˜ë©´ ê´œì°®ì•„ìš”.'}]
    },
    aewol_bomnal: {
        id: 'aewol_bomnal', name: 'ë´„ë‚ ì¹´í˜', rating: 4.2, reviewCount: 2980, cost: 30000, type: 'cafe', lat: 33.4639, lng: 126.3110, tags: ['ì˜¤ì…˜ë·°', 'ì›°ì‹œì½”ê¸°', 'ë“œë¼ë§ˆì´¬ì˜ì§€'],
        menu: [{item: 'ë´„ë‚ ë¼ë–¼', price: 7000}, {item: 'ì²œí˜œí–¥ì£¼ìŠ¤', price: 8000}, {item: 'ì•„ë©”ë¦¬ì¹´ë…¸', price: 6000}],
        reviews: [{author: 'ê°ì„±ì—¬í–‰', rating: 4, text: 'ì•„ê¸°ìê¸°í•˜ê³  ì˜ˆìœ ì¹´í˜. ë°”ë‹¤ ë°”ë¡œ ì•ì´ë¼ íŒŒë„ì†Œë¦¬ ë“£ê¸° ì¢‹ì•„ìš”.'}]
    },
    aewol_randys: {
        id: 'aewol_randys', name: 'ëœë””ìŠ¤ë„ë„› ì• ì›”ì ', rating: 4.3, reviewCount: 4211, cost: 25000, type: 'cafe', lat: 33.4631, lng: 126.3189, tags: ['ë„ë„›', 'ì•„ì´ì–¸ë§¨', 'ë””ì €íŠ¸'],
        menu: [{item: 'ê¸€ë ˆì´ì¦ˆ ë„ë„›', price: 2500}, {item: 'í•‘í¬ìŠ¤í”„ë§í´', price: 3300}, {item: 'ë²„í„°í¬ë¦¼ ë„ë„›', price: 3300}],
        reviews: [{author: 'ë¹µìˆœì´', rating: 5, text: 'ì¢…ë¥˜ê°€ ì •ë§ ë§ê³  ë§›ìˆì–´ìš”! ì›¨ì´íŒ…ì€ ê¸¸ì§€ë§Œ ê¸°ë‹¤ë¦´ ê°€ì¹˜ê°€ ìˆìŠµë‹ˆë‹¤.'}]
    },
    aewol_saebil: {
        id: 'aewol_saebil', name: 'ìƒˆë³„ì˜¤ë¦„', rating: 4.6, reviewCount: 2310, cost: 0, type: 'activity', lat: 33.3639, lng: 126.3567, tags: ['ì˜¤ë¦„', 'ì–µìƒˆ', 'ë‚˜í™€ë¡œë‚˜ë¬´'],
        menu: [{item: 'ì…ì¥ë£Œ', price: 0}, {item: 'ì£¼ì°¨ë£Œ', price: 0}],
        reviews: [{author: 'ë“±ì‚°ì´ˆë³´', rating: 4, text: 'ê²½ì‚¬ê°€ ì¢€ ê°€íŒŒë¥´ì§€ë§Œ 20ë¶„ì´ë©´ ì˜¬ë¼ê°€ìš”. ì •ìƒ ë·°ê°€ í™˜ìƒì !'}]
    },
    aewol_arte: {
        id: 'aewol_arte', name: 'ì•„ë¥´ë–¼ë®¤ì§€ì—„', rating: 4.7, reviewCount: 5560, cost: 60000, type: 'activity', lat: 33.4116, lng: 126.3314, tags: ['ë¯¸ë””ì–´ì•„íŠ¸', 'ì‹¤ë‚´', 'ì¸ìƒìƒ·'],
        menu: [{item: 'ì„±ì¸ ì…ì¥ë£Œ', price: 17000}, {item: 'ì²­ì†Œë…„', price: 13000}, {item: 'ì–´ë¦°ì´', price: 10000}],
        reviews: [{author: 'ì˜ˆìˆ Lover', rating: 5, text: 'ì •ë§ í™˜ìƒì ì¸ ê²½í—˜ì´ì—ˆì–´ìš”. ëª¨ë“  ì „ì‹œê´€ì´ ê°ë™ì ì…ë‹ˆë‹¤. ê°•ë ¥ ì¶”ì²œ!'}]
    },

    // 2ì¼ì°¨: ì• ì›” -> ì„œìª½(ì°¨ê·€ë„)
    hallim_suudong: {
        id: 'hallim_suudong', name: 'ìˆ˜ìš°ë™', rating: 4.4, reviewCount: 1987, cost: 60000, type: 'food', lat: 33.3934, lng: 126.2346, tags: ['ëˆê¹ŒìŠ¤', 'ìš°ë™', 'ì˜ˆì•½í•„ìˆ˜'],
        menu: [{item: 'ìˆ˜ìš°ë™', price: 10000}, {item: 'ìì‘ëƒ‰ìš°ë™', price: 12000}, {item: 'ì¼ì‹ëˆì¹´ì¸ ', price: 14000}],
        reviews: [{author: 'ëˆê¹ŒìŠ¤í—Œí„°', rating: 5, text: 'ì¸ìƒ ëˆê¹ŒìŠ¤ ë“±ê·¹. ì˜ˆì•½ì´ í˜ë“¤ì§€ë§Œ ê·¸ë§Œí•œ ê°€ì¹˜ê°€ ì¶©ë¶„í•©ë‹ˆë‹¤.'}]
    },
    hallim_myeongwol: {
        id: 'hallim_myeongwol', name: 'ëª…ì›”êµ­ë¯¼í•™êµ', rating: 4.3, reviewCount: 1621, cost: 30000, type: 'cafe', lat: 33.3986, lng: 126.2750, tags: ['í•™êµê°œì¡°', 'ë ˆíŠ¸ë¡œ', 'í¬í† ì¡´'],
        menu: [{item: 'ì•„ë©”ë¦¬ì¹´ë…¸', price: 6000}, {item: 'ëª…ì›”ë¼ë–¼', price: 7500}, {item: 'ê°¤ëŸ¬ë¦¬ì…ì¥ë£Œ(ìŒë£Œí¬í•¨)', price: 8000}],
        reviews: [{author: 'ì¶”ì–µì—¬í–‰', rating: 4, text: 'ì‚¬ì§„ ì°ì„ ê³³ì´ ì •ë§ ë§ê³  ì»¨ì…‰ì´ ë…íŠ¹í•´ì„œ ì¢‹ì•˜ì–´ìš”. ì•„ì´ë“¤ë„ ì¢‹ì•„í•´ìš”.'}]
    },
    hallim_park: {
        id: 'hallim_park', name: 'í•œë¦¼ê³µì›', rating: 4.5, reviewCount: 4328, cost: 50000, type: 'activity', lat: 33.3917, lng: 126.2369, tags: ['í…Œë§ˆíŒŒí¬', 'ì‹ë¬¼ì›', 'ê°€ì¡±ì—¬í–‰'],
        menu: [{item: 'ì„±ì¸ ì…ì¥ë£Œ', price: 15000}, {item: 'ì²­ì†Œë…„', price: 10000}, {item: 'ì–´ë¦°ì´', price: 9000}],
        reviews: [{author: 'ì‹ë¬¼ë°•ì‚¬', rating: 5, text: 'ë³¼ê±°ë¦¬ê°€ ì •ë§ ë§ì•„ìš”. ì•¼ììˆ˜ê¸¸, ë™êµ´, ë¯¼ì†ì´Œê¹Œì§€ í•˜ë£¨ ì¢…ì¼ ë†€ ìˆ˜ ìˆì–´ìš”.'}]
    },
    hyeopjae_beach: {
        id: 'hyeopjae_beach', name: 'í˜‘ì¬í•´ìˆ˜ìš•ì¥', rating: 4.6, reviewCount: 3105, cost: 10000, type: 'activity', lat: 33.3937, lng: 126.2396, tags: ['ì—ë©”ë„ë“œë°”ë‹¤', 'ë¹„ì–‘ë„', 'í•´ìˆ˜ìš•'],
        menu: [{item: 'íŒŒë¼ì†”ëŒ€ì—¬', price: 10000}, {item: 'ìƒ¤ì›Œì¥', price: 2000}, {item: 'ì£¼ì°¨', price: 0}],
        reviews: [{author: 'ë¬¼ë†€ì´ê´‘', rating: 5, text: 'ì œì£¼ì—ì„œ ê°€ì¥ ì•„ë¦„ë‹¤ìš´ ë°”ë‹¤ìƒ‰ì¸ ê²ƒ ê°™ì•„ìš”. ë¬¼ì´ ì–•ì•„ ì•„ì´ë‘ ë†€ê¸° ì¢‹ì•„ìš”.'}]
    },
    sinchang_windmill: {
        id: 'sinchang_windmill', name: 'ì‹ ì°½í’ì°¨í•´ì•ˆë„ë¡œ', rating: 4.6, reviewCount: 1560, cost: 0, type: 'activity', lat: 33.3642, lng: 126.1738, tags: ['ë“œë¼ì´ë¸Œ', 'í’ì°¨', 'ë…¸ì„ëª…ì†Œ'],
        menu: [{item: 'ì…ì¥ë£Œ', price: 0}],
        reviews: [{author: 'ë“œë¼ì´ë²„', rating: 5, text: 'í•´ì§ˆë…˜ì— ê°€ë©´ ì •ë§ í™˜ìƒì ì¸ í’ê²½ì„ ë³¼ ìˆ˜ ìˆì–´ìš”. ê°•ë ¥ ì¶”ì²œí•˜ëŠ” ë“œë¼ì´ë¸Œ ì½”ìŠ¤!'}]
    },
    chagwido_submarine: {
        id: 'chagwido_submarine', name: 'ì°¨ê·€ë„ ì ìˆ˜í•¨', rating: 4.4, reviewCount: 890, cost: 180000, type: 'activity', lat: 33.3082, lng: 126.1633, tags: ['ì ìˆ˜í•¨', 'ë°”ë‹¤ì†', 'ì´ìƒ‰ì²´í—˜'],
        menu: [{item: 'ì„±ì¸ íƒ‘ìŠ¹ë£Œ', price: 55000}, {item: 'ì²­ì†Œë…„', price: 44000}, {item: 'ì†Œì¸', price: 33000}],
        reviews: [{author: 'íƒí—˜ê°€', rating: 4, text: 'ì‹ ë¹„ë¡œìš´ ë°”ë‹·ì†ì„ êµ¬ê²½í•˜ëŠ” íŠ¹ë³„í•œ ê²½í—˜ì´ì—ˆì–´ìš”. ì•„ì´ë“¤ì´ ì •ë§ ì¢‹ì•„í•´ìš”.'}]
    },

    // 3ì¼ì°¨: ì„œìª½ -> ì„œê·€í¬
    osulloc: {
        id: 'osulloc', name: 'ì˜¤ì„¤ë¡ í‹° ë®¤ì§€ì—„', rating: 4.4, reviewCount: 8910, cost: 40000, type: 'cafe', lat: 33.3059, lng: 126.2894, tags: ['ë…¹ì°¨ë°­', 'ì‹¤ë‚´', 'ë””ì €íŠ¸'],
        menu: [{item: 'ë…¹ì°¨ ì•„ì´ìŠ¤í¬ë¦¼', price: 5500}, {item: 'ê·¸ë¦°í‹° ë¡¤ì¼€ìµ', price: 6000}, {item: 'ì„¸ì‘', price: 8000}],
        reviews: [{author: 'ë…¹ì°¨ë•í›„', rating: 5, text: 'ë…¹ì°¨ë°­ ë°°ê²½ìœ¼ë¡œ ì¸ìƒìƒ·ì€ í•„ìˆ˜! ì•„ì´ìŠ¤í¬ë¦¼ì´ë‘ ë¡¤ì¼€ìµì€ ê¼­ ë“œì„¸ìš”.'}]
    },
    camellia_hill: {
        id: 'camellia_hill', name: 'ì¹´ë©œë¦¬ì•„í', rating: 4.3, reviewCount: 5120, cost: 40000, type: 'activity', lat: 33.2913, lng: 126.3688, tags: ['ìˆ˜ëª©ì›', 'ê½ƒêµ¬ê²½', 'í¬í† ìŠ¤íŒŸ'],
        menu: [{item: 'ì„±ì¸ ì…ì¥ë£Œ', price: 10000}, {item: 'ì²­ì†Œë…„', price: 8000}, {item: 'ì–´ë¦°ì´', price: 7000}],
        reviews: [{author: 'ê½ƒë³´ë‹¤ë‚˜', rating: 4, text: 'ê³„ì ˆë§ˆë‹¤ ë‹¤ë¥¸ ê½ƒì„ ë³¼ ìˆ˜ ìˆì–´ì„œ ì¢‹ì•„ìš”. ì‚¬ì§„ ì°ì„ ê³³ì´ ì •ë§ ë§ì•„ìš”.'}]
    },
    sanbangsan: {
        id: 'sanbangsan', name: 'ì‚°ë°©ì‚°', rating: 4.5, reviewCount: 1980, cost: 10000, type: 'activity', lat: 33.2423, lng: 126.3138, tags: ['ì‚°', 'ìš©ë¨¸ë¦¬í•´ì•ˆ', 'ì ˆê²½'],
        menu: [{item: 'ì…ì¥ë£Œ(ì‚°ë°©êµ´ì‚¬)', price: 1000}, {item: 'ìš©ë¨¸ë¦¬í•´ì•ˆ í†µí•©ê¶Œ', price: 2500}],
        reviews: [{author: 'í’ê²½ì‚¬ì§„ê°€', rating: 5, text: 'ìš©ë¨¸ë¦¬í•´ì•ˆê³¼ í•¨ê»˜ ë³´ë©´ ì •ë§ ë©‹ìˆìŠµë‹ˆë‹¤. ì œì£¼ì˜ ìì—°ì„ ì œëŒ€ë¡œ ëŠë‚„ ìˆ˜ ìˆì–´ìš”.'}]
    },
    jungmun_saekdal: {
        id: 'jungmun_saekdal', name: 'ì¤‘ë¬¸ìƒ‰ë‹¬ì‹ë‹¹', rating: 4.2, reviewCount: 1834, cost: 100000, type: 'food', lat: 33.2519, lng: 126.4217, tags: ['ê°ˆì¹˜ì¡°ë¦¼', 'í†µê°ˆì¹˜', 'ì¤‘ë¬¸ë§›ì§‘'],
        menu: [{item: 'í†µê°ˆì¹˜êµ¬ì´(2ì¸)', price: 70000}, {item: 'ê°ˆì¹˜ì¡°ë¦¼(ì†Œ)', price: 40000}, {item: 'ì„±ê²Œë¯¸ì—­êµ­', price: 15000}],
        reviews: [{author: 'ìƒì„ êµ¬ì´', rating: 4, text: 'ê°ˆì¹˜ê°€ ì •ë§ í¬ê³  ì‚´ì´ ë§ì•„ìš”. ì¡°ë¦¼ ì–‘ë…ë„ ë§›ìˆìŠµë‹ˆë‹¤.'}]
    },
    cheonjeyeon_falls: {
        id: 'cheonjeyeon_falls', name: 'ì²œì œì—°í­í¬', rating: 4.4, reviewCount: 2150, cost: 10000, type: 'activity', lat: 33.2511, lng: 126.4170, tags: ['í­í¬', 'ì‚°ì±…ë¡œ', 'ì„ ì„êµ'],
        menu: [{item: 'ì„±ì¸ ì…ì¥ë£Œ', price: 2500}, {item: 'ì²­ì†Œë…„/ì–´ë¦°ì´', price: 1350}],
        reviews: [{author: 'ëšœë²…ì´', rating: 4, text: '1, 2, 3í­í¬ ë‹¤ ë³´ëŠ” ì¬ë¯¸ê°€ ìˆì–´ìš”. ì‚°ì±…í•˜ê¸° ì •ë§ ì¢‹ì€ ê³³.'}]
    },
    olle_market: {
        id: 'olle_market', name: 'ì„œê·€í¬ë§¤ì¼ì˜¬ë ˆì‹œì¥', rating: 4.3, reviewCount: 9870, cost: 50000, type: 'food', lat: 33.2498, lng: 126.5612, tags: ['ì‹œì¥', 'ê¸¸ê±°ë¦¬ìŒì‹', 'ì•¼ì‹œì¥'],
        menu: [{item: 'í‘ë¼ì§€ê¼¬ì¹˜', price: 6000}, {item: 'ë§ˆë†ì¹˜í‚¨', price: 20000}, {item: 'ëª¨ë“¬íšŒ', price: 25000}],
        reviews: [{author: 'ë¨¹ë°©ëŸ¬', rating: 5, text: 'ë¨¹ê±°ë¦¬ ì²œêµ­! ì €ë…ì— ê°€ì„œ í‘ë¼ì§€ê¼¬ì¹˜ë‘ ë§ˆë†ì¹˜í‚¨ì— ë§¥ì£¼ í•œì”í•˜ë©´ ìµœê³ ì˜ˆìš”.'}]
    },

    // 4ì¼ì°¨: ì„œê·€í¬ -> ì„±ì‚° -> ê³µí•­
    seongsan_ilchulbong: {
        id: 'seongsan_ilchulbong', name: 'ì„±ì‚°ì¼ì¶œë´‰', rating: 4.5, reviewCount: 15247, cost: 20000, type: 'activity', lat: 33.4581, lng: 126.9426, tags: ['ìœ ë„¤ìŠ¤ì½”', 'ì¼ì¶œ', 'í•„ìˆ˜ì½”ìŠ¤'],
        menu: [{item: 'ì„±ì¸ ì…ì¥ë£Œ', price: 5000}, {item: 'ì²­ì†Œë…„/ì–´ë¦°ì´', price: 2500}],
        reviews: [{author: 'ë“±ë°˜ê°€', rating: 5, text: 'í˜ë“¤ê²Œ ì˜¬ë¼ê°„ ë³´ëŒì´ ìˆëŠ” ë·°. ì œì£¼ì— ì™”ë‹¤ë©´ ê¼­ ê°€ë´ì•¼ í•  ê³³.'}]
    },
    udo_island: {
        id: 'udo_island', name: 'ìš°ë„', rating: 4.6, reviewCount: 7850, cost: 80000, type: 'activity', lat: 33.5000, lng: 126.9500, tags: ['ì„¬ì†ì˜ì„¬', 'ìì „ê±°', 'ë•…ì½©ì•„ì´ìŠ¤í¬ë¦¼'],
        menu: [{item: 'ì™•ë³µì„ ë°•ë£Œ(ì„±ì¸)', price: 10500}, {item: 'ì „ê¸°ì°¨ëŒ€ì—¬', price: 30000}, {item: 'ë•…ì½©ì•„ì´ìŠ¤í¬ë¦¼', price: 5000}],
        reviews: [{author: 'ì„¬ì—¬í–‰ì', rating: 5, text: 'ë°˜ë‚˜ì ˆ ì½”ìŠ¤ë¡œ ì™„ë²½í•´ìš”. ì „ê¸°ì°¨ íƒ€ê³  í•´ì•ˆë„ë¡œ ëŒë©´ ì •ë§ ì¢‹ì•„ìš”.'}]
    },
    seopjikoji: {
        id: 'seopjikoji', name: 'ì„­ì§€ì½”ì§€', rating: 4.4, reviewCount: 4590, cost: 0, type: 'activity', lat: 33.4243, lng: 126.9295, tags: ['í•´ì•ˆì ˆê²½', 'ì‚°ì±…ë¡œ', 'ë“œë¼ë§ˆì´¬ì˜ì§€'],
        menu: [{item: 'ì…ì¥ë£Œ', price: 0}, {item: 'ì£¼ì°¨ë£Œ', price: 3000}],
        reviews: [{author: 'ì‚°ì±…ì™•', rating: 4, text: 'ë°”ë‹¤ì™€ ì–´ìš°ëŸ¬ì§„ í’ê²½ì´ ì˜ˆìˆ ì´ì—ìš”. ì²œì²œíˆ ê±·ê¸° ì¢‹ìŠµë‹ˆë‹¤.'}]
    },
    gwangchigi_beach: {
        id: 'gwangchigi_beach', name: 'ê´‘ì¹˜ê¸°í•´ë³€', rating: 4.5, reviewCount: 1230, cost: 0, type: 'activity', lat: 33.4475, lng: 126.9234, tags: ['ì¼ì¶œë´‰ë·°', 'ì°ë¬¼', 'ì‚¬ì§„ëª…ì†Œ'],
        menu: [{item: 'ì…ì¥ë£Œ', price: 0}],
        reviews: [{author: 'í¬í† ê·¸ë˜í¼', rating: 5, text: 'ì„±ì‚°ì¼ì¶œë´‰ì„ ê°€ì¥ ë©‹ì§€ê²Œ ë‹´ì„ ìˆ˜ ìˆëŠ” ê³³. ë¬¼ë•Œ ë§ì¶°ê°€ë©´ ì´ë¼ë‚€ ë°”ìœ„ê°€ ë“œëŸ¬ë‚˜ ë” ë©‹ì ¸ìš”.'}]
    },
    seongsan_myeongjin: {
        id: 'seongsan_myeongjin', name: 'ëª…ì§„ì „ë³µ', rating: 4.3, reviewCount: 2890, cost: 70000, type: 'food', lat: 33.5485, lng: 126.8533, tags: ['ì „ë³µëŒì†¥ë°¥', 'ì›¨ì´íŒ…', 'ë™ìª½ë§›ì§‘'],
        menu: [{item: 'ì „ë³µëŒì†¥ë°¥', price: 16000}, {item: 'ì „ë³µêµ¬ì´', price: 30000}, {item: 'ì „ë³µì£½', price: 13000}],
        reviews: [{author: 'ë°¥ë„ë‘‘', rating: 5, text: 'ê³ ì†Œí•œ ì „ë³µ ë‚´ì¥ë°¥ì€ ìŠì„ ìˆ˜ ì—†ëŠ” ë§›. ì›¨ì´íŒ…ì´ ê¸¸ì–´ë„ ê¸°ë‹¤ë ¤ì„œ ë¨¹ì–´ì•¼ í•´ìš”.'}]
    },
    seongsan_orda: {
        id: 'seongsan_orda', name: 'ì¹´í˜ ì˜¤ë¥´ë‹¤', rating: 4.2, reviewCount: 1856, cost: 35000, type: 'cafe', lat: 33.4475, lng: 126.9323, tags: ['ì²œêµ­ì˜ê³„ë‹¨', 'ì„±ì‚°ë·°', 'ì¸ìŠ¤íƒ€'],
        menu: [{item: 'ì•„ë©”ë¦¬ì¹´ë…¸', price: 7000}, {item: 'ì˜¤ë¥´ë‹¤ë¼ë–¼', price: 8500}, {item: 'ë‹¹ê·¼ì¼€ì´í¬', price: 8000}],
        reviews: [{author: 'ì¸ìƒìƒ·ê±´ì§', rating: 4, text: 'ì²œêµ­ì˜ê³„ë‹¨ì—ì„œ ì‚¬ì§„ ì°ìœ¼ë ¤ë©´ ì¤„ ì„œì•¼í•´ìš”. ì„±ì‚°ì¼ì¶œë´‰ ë·°ê°€ ì •ë§ ë©‹ì§‘ë‹ˆë‹¤.'}]
    },
    // ê¸°íƒ€ ê³µí†µ
    jamaeguksu: { id: 'jamaeguksu', name: 'ìë§¤êµ­ìˆ˜ ë³¸ì ', rating: 4.1, reviewCount: 3891, cost: 35000, type: 'food', lat: 33.5074, lng: 126.5284, tags: ['ê³ ê¸°êµ­ìˆ˜', 'ê³µí•­ê·¼ì²˜', 'í–¥í† ìŒì‹'],
        menu: [{item: 'ê³ ê¸°êµ­ìˆ˜', price: 9000}, {item: 'ë¹„ë¹”êµ­ìˆ˜', price: 9000}, {item: 'ë”ë² ê³ ê¸°', price: 30000}],
        reviews: [{author: 'êµ­ìˆ˜í™€ë¦­', rating: 4, text: 'ì œì£¼ì˜¤ë©´ ê¼­ ë¨¹ëŠ” ê³ ê¸°êµ­ìˆ˜. êµ­ë¬¼ì´ ì§„í•˜ê³  ì–‘ë„ ë§ì•„ìš”.'}]
    },
    dombedon: { id: 'dombedon', name: 'ë”ë² ëˆ', rating: 4.3, reviewCount: 2247, cost: 130000, type: 'food', lat: 33.5148, lng: 126.5245, tags: ['í‘ë¼ì§€', 'ê·¼ê³ ê¸°', 'ê³µí•­ê·¼ì²˜'],
        menu: [{item: 'í‘ë¼ì§€2ì¸', price: 69000}, {item: 'ê¹€ì¹˜ì°Œê°œ', price: 8000}, {item: 'ê³„ë€ì°œ', price: 3000}],
        reviews: [{author: 'ê³ ê¸°ì‚¬ë‘', rating: 5, text: 'ìœ¡ì¦™ íŒ¡íŒ¡ í„°ì§€ëŠ” í‘ë¼ì§€ ë§›ì§‘. ë©œì “ì— ì°ì–´ë¨¹ìœ¼ë©´ í™˜ìƒ!'}]
    },
};

const itineraryData = {
    day1: {
        title: "1ì¼ì°¨: ì œì£¼ ë„ì°© & ë‚­ë§Œ ê°€ë“ ì• ì›”",
        slots: {
            '16:00': { icon: 'âœˆï¸', category: 'ê³µí•­ ë„ì°© ë° ë ŒíŠ¸ì¹´', options: { arrival: { id: 'arrival', name: 'ì œì£¼êµ­ì œê³µí•­', cost: 0, type: 'etc', tags: ['í•„ìˆ˜', 'ì‹œì‘'], lat: 33.5104, lng: 126.4913 }}},
            '18:30': { icon: 'ğŸ´', category: 'ì €ë… ì‹ì‚¬ (ì• ì›”)', options: {
                aewol_noraba: jejuDatabase.aewol_noraba,
                aewol_dwaeji: jejuDatabase.aewol_dwaeji,
                aewol_oneunjeong: jejuDatabase.aewol_oneunjeong,
                another_food1: { id: 'another_food1', name: 'ë‹»', rating: 4.5, reviewCount: 1100, cost: 80000, type: 'food', lat: 33.4619, lng: 126.3156, tags: ['ë”±ìƒˆìš°íšŒ', 'ì´ìì¹´ì•¼', 'ê°ì„±ìˆ ì§‘'], menu:[{item:'ë”±ìƒˆìš°íšŒ', price:35000}, {item:'ë‚˜ê°€ì‚¬í‚¤ì§¬ë½•', price:25000}], reviews:[{author:'ìˆ ê¾¼', rating:5, text:'ë¶„ìœ„ê¸° ê¹¡íŒ¨, ë”±ìƒˆìš°íšŒëŠ” ì‹ ì„ í•¨ ê·¸ ìì²´!'}] },
                another_food2: { id: 'another_food2', name: 'ì œì£¼ê´‘í•´ ì• ì›”', rating: 4.2, reviewCount: 950, cost: 90000, type: 'food', lat: 33.4735, lng: 126.3475, tags: ['ê°ˆì¹˜ì¡°ë¦¼', 'í•´ë¬¼ëšë°°ê¸°', 'ì˜¤ì…˜ë·°'], menu:[{item:'ê°ˆì¹˜ì¡°ë¦¼ì„¸íŠ¸', price:85000}, {item:'ì „ë³µëšë°°ê¸°', price:16000}], reviews:[{author:'ê°€ì¡±ëŒ€í‘œ', rating:4, text:'ì°½ê°€ ìë¦¬ì— ì•‰ìœ¼ë©´ ë·°ê°€ ì •ë§ ì¢‹ì•„ìš”. ìŒì‹ë„ ê¹”ë”í•´ìš”.'}] },
                another_food3: { id: 'another_food3', name: 'í”¼ì¦ˆ', rating: 4.6, reviewCount: 550, cost: 50000, type: 'food', lat: 33.4618, lng: 126.3201, tags: ['ìˆ˜ì œë²„ê±°', 'ë¯¸êµ­ê°ì„±', 'í™í”Œë ˆì´ìŠ¤'], menu:[{item:'í´ë˜ì‹ì¹˜ì¦ˆë²„ê±°', price:11000}, {item:'ì¹ ë¦¬ì¹˜ì¦ˆí”„ë¼ì´', price:9000}], reviews:[{author:'ë²„ê±°ë§¤ë‹ˆì•„', rating:5, text:'ìœ¡ì¦™ ê°€ë“í•œ íŒ¨í‹°ê°€ ì¼í’ˆì¸ ë¯¸êµ­ì‹ ë²„ê±° ë§›ì§‘!'}] }
            }},
            '20:30': { icon: 'â˜•', category: 'ì¹´í˜ & ì•¼ê°„ í™œë™ (ì• ì›”)', options: {
                aewol_monsant: jejuDatabase.aewol_monsant,
                aewol_bomnal: jejuDatabase.aewol_bomnal,
                aewol_randys: jejuDatabase.aewol_randys,
                another_cafe1: { id: 'another_cafe1', name: 'í•˜ì´ì—”ë“œì œì£¼', rating: 4.3, reviewCount: 2100, cost: 30000, type: 'cafe', lat: 33.4842, lng: 126.3813, tags: ['ëŒ€í˜•ì¹´í˜', 'ì˜¤ì…˜ë·°', 'ë² ì´ì»¤ë¦¬'], menu:[{item:'í•œë¼ì‚°ì¼€ì´í¬', price:9000}, {item:'ì•„ì¸ìŠˆí˜ë„ˆ', price:8000}], reviews:[{author:'ë¹µì§€ìˆœë¡€', rating:4, text:'ë¹µ ì¢…ë¥˜ê°€ ë§ê³  ë§›ìˆì–´ìš”. 3ì¸µ ë£¨í”„íƒ‘ ë·°ê°€ ìµœê³ .'}] },
                another_cafe2: { id: 'another_cafe2', name: 'ìƒˆë¹Œì¹´í˜', rating: 4.4, reviewCount: 1350, cost: 25000, type: 'cafe', lat: 33.3648, lng: 126.3551, tags: ['ìƒˆë³„ì˜¤ë¦„ë·°', 'í¬í† ì¡´', 'ëŒ€í˜•ì¹´í˜'], menu:[{item:'ì•„ë©”ë¦¬ì¹´ë…¸', price:6000}, {item:'ìƒˆë¹Œë¼ë–¼', price:7500}], reviews:[{author:'ì˜¤ë¦„ëŸ¬ë²„', rating:5, text:'ìƒˆë³„ì˜¤ë¦„ì„ ë³´ë©° ì»¤í”¼ ë§ˆì‹œëŠ” ê¸°ë¶„, ì •ë§ ìµœê³ ì˜ˆìš”.'}] },
                gwakji_beach: { id: 'gwakji_beach', name: 'ê³½ì§€í•´ìˆ˜ìš•ì¥', rating: 4.4, reviewCount: 1200, cost: 5000, type: 'activity', lat: 33.4529, lng: 126.3039, tags: ['í•´ë³€ì‚°ì±…', 'ë…¸ì„', 'ê³¼ë¬¼ë…¸ì²œíƒ•'], menu:[{item:'ì£¼ì°¨ë£Œ', price:0}], reviews:[{author:'ì‚°ì±…ê°€', rating:4, text:'í•´ì§ˆë…˜ ì‚°ì±…í•˜ê¸° ì •ë§ ì¢‹ì€ ê³³. ëª¨ë˜ë„ ê³±ê³  ë¬¼ë„ ë§‘ì•„ìš”.'}] }
            }},
            '22:00': { icon: 'ğŸ¨', category: 'ìˆ™ì†Œ ì²´í¬ì¸ (ì• ì›”)', options: { aewol_stay: { id: 'aewol_stay', name: 'ì• ì›” ê·¼ì²˜ ìˆ™ì†Œ', cost: 0, type: 'accommodation', tags: ['1ì¼ì°¨ ìˆ™ì†Œ'], lat: 33.46, lng: 126.32 }}},
        }
    },
    day2: {
        title: "2ì¼ì°¨: ì—ë©”ë„ë“œë¹› ì„œìª½ í•´ì•ˆ íƒë°©",
        slots: {
            '09:30': { icon: 'ğŸ³', category: 'ì•„ì¹¨ & ì˜¤ì „ í™œë™ (í•œë¦¼/í˜‘ì¬)', options: {
                hallim_suudong: jejuDatabase.hallim_suudong,
                hallim_myeongwol: jejuDatabase.hallim_myeongwol,
                hallim_park: jejuDatabase.hallim_park,
                hyeopjae_beach: jejuDatabase.hyeopjae_beach,
                another_activity1: { id: 'another_activity1', name: 'ê¸ˆëŠ¥í•´ìˆ˜ìš•ì¥', rating: 4.5, reviewCount: 980, cost: 5000, type: 'activity', lat: 33.3888, lng: 126.2325, tags: ['í•œì í•¨', 'ìŠ¤ë…¸í´ë§', 'ìº í•‘'], menu:[{item:'ìƒ¤ì›Œì¥', price:2000}], reviews:[{author:'íë§ì—¬í–‰', rating:5, text:'í˜‘ì¬ë³´ë‹¤ ì‚¬ëŒì´ ì ì–´ì„œ ì¢‹ì•„ìš”. ë¬¼ë†€ì´í•˜ê¸° ìµœê³ !'}] },
                another_food4: { id: 'another_food4', name: 'í•œë¦¼ì¹¼êµ­ìˆ˜', rating: 4.3, reviewCount: 1150, cost: 40000, type: 'food', lat: 33.4116, lng: 126.2625, tags: ['ë³´ë§ì¹¼êµ­ìˆ˜', 'í˜„ì§€ì¸ë§›ì§‘', 'í•´ì¥'], menu:[{item:'ë³´ë§ì¹¼êµ­ìˆ˜', price:10000}, {item:'ë‹­ì¹¼êµ­ìˆ˜', price:9000}], reviews:[{author:'í•´ì¥ì „ë¬¸', rating:4, text:'êµ­ë¬¼ì´ ì •ë§ ì§„í•˜ê³  ì‹œì›í•´ìš”. í•´ì¥ìš©ìœ¼ë¡œ ë”±ì…ë‹ˆë‹¤.'}] },
            }},
            '13:00': { icon: 'ğŸ´', category: 'ì ì‹¬ ì‹ì‚¬ (í•œë¦¼/í˜‘ì¬)', options: {
                hallim_suudong: jejuDatabase.hallim_suudong, // ì ì‹¬ì—ë„ ì„ íƒ ê°€ëŠ¥
                another_food5: { id: 'another_food5', name: 'ë°¥ê¹¡íŒ¨', rating: 4.1, reviewCount: 1300, cost: 60000, type: 'food', lat: 33.4102, lng: 126.2587, tags: ['í•´ë…€íŒŒìŠ¤íƒ€', 'í“¨ì „ìš”ë¦¬', 'ì›¨ì´íŒ…'], menu:[{item:'í•´ë…€íŒŒìŠ¤íƒ€', price:25000}, {item:'í‘ë¼ì§€ë‘ë¶€ì»¤ë¦¬', price:18000}], reviews:[{author:'í“¨ì „ë§¤ë‹ˆì•„', rating:4, text:'ë…íŠ¹í•˜ê³  ë§›ìˆëŠ” ë©”ë‰´. ì›¨ì´íŒ…ì´ ê¸¸ì§€ë§Œ ë§›ì€ ë³´ì¥!'}] },
                another_food6: { id: 'another_food6', name: 'ë…ê°œë¬¼í•­', rating: 4.2, reviewCount: 880, cost: 80000, type: 'food', lat: 33.3932, lng: 126.2411, tags: ['ê°ì£¼ë¦¬ì¡°ë¦¼', 'í–¥í† ìŒì‹', 'ê°ˆì¹˜êµ­'], menu:[{item:'ê°ì£¼ë¦¬ì¡°ë¦¼(ì†Œ)', price:40000}, {item:'ê°ˆì¹˜êµ­', price:15000}], reviews:[{author:'í˜„ì§€ì¸ì¶”ì²œ', rating:4, text:'ì§„ì •í•œ ì œì£¼ í–¥í† ìŒì‹ì„ ë§›ë³¼ ìˆ˜ ìˆëŠ” ê³³. ì¡°ë¦¼ì´ ì¼í’ˆ.'}] },
                another_food7: { id: 'another_food7', name: 'ì œì£¼ëˆì•„', rating: 4.6, reviewCount: 650, cost: 100000, type: 'food', lat: 33.3929, lng: 126.2422, tags: ['í‘ë¼ì§€', 'í˜‘ì¬ë§›ì§‘', 'ì—°íƒ„êµ¬ì´'], menu:[{item:'í‘ë¼ì§€ê·¼ê³ ê¸°(600g)', price:65000}], reviews:[{author:'ê³ ê¸°ë°•ì‚¬', rating:5, text:'ì—°íƒ„ë¶ˆì— êµ¬ì›Œë¨¹ëŠ” í‘ë¼ì§€ ë§›ì´ ê¸°ê°€ ë§‰í™ë‹ˆë‹¤.'}] }
            }},
            '15:00': { icon: 'ğŸš—', category: 'ì˜¤í›„ í™œë™ & ë“œë¼ì´ë¸Œ (ì°¨ê·€ë„ ë°©ë©´)', options: {
                sinchang_windmill: jejuDatabase.sinchang_windmill,
                chagwido_submarine: jejuDatabase.chagwido_submarine,
                another_activity2: { id: 'another_activity2', name: 'ìˆ˜ì›”ë´‰', rating: 4.5, reviewCount: 990, cost: 0, type: 'activity', lat: 33.2952, lng: 126.1687, tags: ['ì§€ì§ˆíŠ¸ë ˆì¼', 'ë…¸ì„', 'ì°¨ê·€ë„ë·°'], menu:[{item:'ì…ì¥ë£Œ', price:0}], reviews:[{author:'ì§€ì§ˆí•™ì', rating:5, text:'í•´ì•ˆì ˆë²½ì˜ ì§€ì¸µì´ ì •ë§ ì‹ ê¸°í•˜ê³  ì•„ë¦„ë‹¤ì›Œìš”. ë…¸ì„ ì§ˆ ë•Œ ê¼­ ê°€ë³´ì„¸ìš”.'}] },
                another_cafe3: { id: 'another_cafe3', name: 'ìš¸íŠ¸ë¼ë§ˆë¦°', rating: 4.4, reviewCount: 780, cost: 30000, type: 'cafe', lat: 33.3615, lng: 126.1730, tags: ['ì˜¤ì…˜ë·°', 'í†µìœ ë¦¬', 'ì‹ ì°½í’ì°¨ë·°'], menu:[{item:'ì•„ë©”ë¦¬ì¹´ë…¸', price:6500}, {item:'íŒ¨ì…˜í›„ë¥´ì¸ ì—ì´ë“œ', price:8000}], reviews:[{author:'ë·°ê¹¡íŒ¨', rating:5, text:'í†µìœ ë¦¬ì°½ìœ¼ë¡œ ë³´ì´ëŠ” ë°”ë‹¤ì™€ í’ì°¨ë·°ê°€ í™˜ìƒì ì´ì—ìš”.'}] },
                another_cafe4: { id: 'another_cafe4', name: 'ë¯¸ìœì œê³¼', rating: 4.2, reviewCount: 1250, cost: 40000, type: 'cafe', lat: 33.3080, lng: 126.2415, tags: ['í•œì˜¥ì¹´í˜', 'ë² ì´ì»¤ë¦¬', 'ëŒ€í˜•ì¹´í˜'], menu:[{item:'ì†Œê¸ˆë¹µ', price:3500}, {item:'ì•„ë©”ë¦¬ì¹´ë…¸', price:6000}], reviews:[{author:'í•œì˜¥ëŸ¬ë²„', rating:4, text:'ê³ ì¦ˆë„‰í•œ í•œì˜¥ì—ì„œ ì¦ê¸°ëŠ” ë¹µê³¼ ì»¤í”¼. ë¶„ìœ„ê¸°ê°€ ì •ë§ ì¢‹ì•„ìš”.'}] }
            }},
            '19:00': { icon: 'ğŸ¨', category: 'ì €ë… ë° ìˆ™ì†Œ (ì°¨ê·€ë„/íŒí¬)', options: {
                panpo_stay: { id: 'panpo_stay', name: 'ì°¨ê·€ë„/íŒí¬ ê·¼ì²˜ ìˆ™ì†Œ', cost: 0, type: 'accommodation', tags: ['2ì¼ì°¨ ìˆ™ì†Œ'], lat: 33.3857, lng: 126.2104 },
                another_food8: { id: 'another_food8', name: 'ë¶€ë‘ì‹ë‹¹', rating: 4.3, reviewCount: 680, cost: 70000, type: 'food', lat: 33.3079, lng: 126.1636, tags: ['ê³ ë“±ì–´íšŒ', 'ë°©ì–´íšŒ', 'ì°¨ê·€ë„ë§›ì§‘'], menu:[{item:'ê³ ë“±ì–´íšŒ(ì†Œ)', price:40000}, {item:'ë§¤ìš´íƒ•', price:15000}], reviews:[{author:'íšŒë°•ì‚¬', rating:5, text:'ì°¨ê·€ë„ í¬êµ¬ ë°”ë¡œ ì•. ì‹±ì‹±í•œ ê³ ë“±ì–´íšŒë¥¼ ë§›ë³¼ ìˆ˜ ìˆëŠ” ê³³.'}] }
            }},
        }
    },
    day3: {
        title: "3ì¼ì°¨: ì œì£¼ì˜ ìì—° ì†ìœ¼ë¡œ, ì„œê·€í¬ íë§",
        slots: {
            '09:30': { icon: 'ğŸŒ¿', category: 'ì˜¤ì „ í™œë™ (ì„œë‚¨ë¶€)', options: {
                osulloc: jejuDatabase.osulloc,
                camellia_hill: jejuDatabase.camellia_hill,
                sanbangsan: jejuDatabase.sanbangsan,
                another_activity3: { id: 'another_activity3', name: 'ìš©ë¨¸ë¦¬í•´ì•ˆ', rating: 4.6, reviewCount: 2200, cost: 8000, type: 'activity', lat: 33.2320, lng: 126.3135, tags: ['í•´ì•ˆì ˆê²½', 'ì§€ì§ˆíƒë°©', 'ë‚ ì”¨í™•ì¸í•„ìˆ˜'], menu:[{item:'ì„±ì¸ì…ì¥ë£Œ', price:2000}], reviews:[{author:'íƒí—˜ê°€', rating:5, text:'ë§ˆì¹˜ ë‹¤ë¥¸ í–‰ì„±ì— ì˜¨ ë“¯í•œ ëŠë‚Œ. íŒŒë„ì™€ ë°”ëŒì´ ë§Œë“  ìµœê³ ì˜ ì˜ˆìˆ ì‘í’ˆ!'}] },
                another_activity4: { id: 'another_activity4', name: 'ì œì£¼í•­ê³µìš°ì£¼ë°•ë¬¼ê´€', rating: 4.4, reviewCount: 1500, cost: 50000, type: 'activity', lat: 33.3049, lng: 126.2934, tags: ['ì‹¤ë‚´', 'ì•„ì´ì™€í•¨ê»˜', 'êµìœ¡'], menu:[{item:'ì„±ì¸ì…ì¥ë£Œ', price:15000}], reviews:[{author:'ë¹„í–‰ê¸°ë•í›„', rating:4, text:'ìƒê°ë³´ë‹¤ ë³¼ê±°ë¦¬, ì²´í—˜ê±°ë¦¬ê°€ ë§ì•„ì„œ ì‹œê°„ì´ ê¸ˆë°© ê°€ìš”.'}] }
            }},
            '13:00': { icon: 'ğŸ´', category: 'ì ì‹¬ ì‹ì‚¬ (ì¤‘ë¬¸)', options: {
                jungmun_saekdal: jejuDatabase.jungmun_saekdal,
                another_food9: { id: 'another_food9', name: 'ìˆ™ì„±ë„ ì¤‘ë¬¸ì ', rating: 4.5, reviewCount: 1900, cost: 120000, type: 'food', lat: 33.2541, lng: 126.4258, tags: ['ìˆ™ì„±í‘ë¼ì§€', 'ì›¨ì´íŒ…', 'í”„ë¦¬ë¯¸ì—„'], menu:[{item:'720ìˆ™ì„± í‘ëª©ì‚´', price:21000}, {item:'ë™ì¹˜ë¯¸ì—´ë¬´êµ­ìˆ˜', price:8000}], reviews:[{author:'ë¯¸ì‹ê°€', rating:5, text:'ìˆ™ì„±ë¼ì§€ê³ ê¸°ì˜ ëíŒì™•. ë¶€ë“œëŸ¬ì›€ê³¼ ìœ¡ì¦™ì´ ì°¨ì›ì´ ë‹¬ë¼ìš”.'}] },
                another_food10: { id: 'another_food10', name: 'ì œì£¼ê¹€ë§Œë³µ ì¤‘ë¬¸ì ', rating: 4.1, reviewCount: 1400, cost: 40000, type: 'food', lat: 33.2503, lng: 126.4150, tags: ['ë§Œë³µì´ë„¤ê¹€ë°¥', 'ì „ë³µì£¼ë¨¹ë°¥', 'ê°„ë‹¨ì‹ì‚¬'], menu:[{item:'ë§Œë³µì´ë„¤ê¹€ë°¥', price:7500}, {item:'ì˜¤ì§•ì–´ë¬´ì¹¨', price:5500}], reviews:[{author:'ê°„í¸ì‹', rating:4, text:'ê³ ì†Œí•œ ì „ë³µë‚´ì¥ë°¥ì´ ë³„ë¯¸. ì˜¤ì§•ì–´ë¬´ì¹¨ì´ë‘ ê¼­ ê°™ì´ ë“œì„¸ìš”.'}] },
            }},
            '15:00': { icon: 'ğŸï¸', category: 'ì˜¤í›„ í™œë™ (ì„œê·€í¬)', options: {
                cheonjeyeon_falls: jejuDatabase.cheonjeyeon_falls,
                another_activity5: { id: 'another_activity5', name: 'ì£¼ìƒì ˆë¦¬ëŒ€', rating: 4.4, reviewCount: 3100, cost: 8000, type: 'activity', lat: 33.2378, lng: 126.4257, tags: ['ìì—°ê²½ê´€', 'ì¤‘ë¬¸ë‹¨ì§€', 'ìœ¡ê°ê¸°ë‘¥'], menu:[{item:'ì„±ì¸ì…ì¥ë£Œ', price:2000}], reviews:[{author:'ìì—°ì¸', rating:5, text:'ìì—°ì˜ ìœ„ëŒ€í•¨ì„ ëŠë‚„ ìˆ˜ ìˆëŠ” ê³³. íŒŒë„ê°€ ë¶€ë”ªíˆëŠ” ëª¨ìŠµì´ ì¥ê´€.'}] },
                another_activity6: { id: 'another_activity6', name: 'ì •ë°©í­í¬', rating: 4.3, reviewCount: 2500, cost: 8000, type: 'activity', lat: 33.2441, lng: 126.5714, tags: ['í•´ì•ˆí­í¬', 'ì„œê·€í¬', 'ì›…ì¥í•¨'], menu:[{item:'ì„±ì¸ì…ì¥ë£Œ', price:2000}], reviews:[{author:'í­í¬ë§¤ë‹ˆì•„', rating:4, text:'ë°”ë‹¤ë¡œ ì§ì ‘ ë–¨ì–´ì§€ëŠ” í­í¬ê°€ ì •ë§ ì‹ ê¸°í•˜ê³  ë©‹ìˆì–´ìš”.'}] },
                another_cafe5: { id: 'another_cafe5', name: 'ì„œê·€í”¼ì•ˆ', rating: 4.5, reviewCount: 850, cost: 30000, type: 'cafe', lat: 33.2421, lng: 126.5822, tags: ['ë² ì´ì»¤ë¦¬ì¹´í˜', 'ì˜¤ì…˜ë·°', 'ì„œê·€í¬'], menu:[{item:'íŒ¡ë„ë¥´', price:7000}, {item:'ì•„ë©”ë¦¬ì¹´ë…¸', price:6000}], reviews:[{author:'ë¹µìƒë¹µì‚¬', rating:5, text:'ë¹µì´ ì •ë§ ë§›ìˆê³  ë·°ë„ ì¢‹ì•„ìš”. ì„œê·€í¬ ì˜¤ë©´ ê¼­ ë“¤ë¥´ëŠ” ê³³.'}] }
            }},
            '19:00': { icon: 'ğŸ¢', category: 'ì €ë… ì‹ì‚¬ (ì˜¬ë ˆì‹œì¥)', options: {
                olle_market: jejuDatabase.olle_market,
                another_food11: { id: 'another_food11', name: 'ìš©ì´ì‹ë‹¹', rating: 4.2, reviewCount: 1100, cost: 40000, type: 'food', lat: 33.2505, lng: 126.5620, tags: ['ë‘ë£¨ì¹˜ê¸°', 'ê°€ì„±ë¹„', 'ì‹œì¥ë§›ì§‘'], menu:[{item:'ë‘ë£¨ì¹˜ê¸°(1ì¸)', price:9000}], reviews:[{author:'ê°€ì„±ë¹„ì™•', rating:4, text:'ì €ë ´í•œ ê°€ê²©ì— í‘¸ì§í•˜ê²Œ ë¨¹ì„ ìˆ˜ ìˆëŠ” ë¡œì»¬ ë§›ì§‘.'}] },
                another_food12: { id: 'another_food12', name: 'ë„¤ê±°ë¦¬ì‹ë‹¹', rating: 4.1, reviewCount: 980, cost: 80000, type: 'food', lat: 33.2480, lng: 126.5601, tags: ['ê°ˆì¹˜êµ­', 'ê°ˆì¹˜ì¡°ë¦¼', 'í–¥í† ìŒì‹'], menu:[{item:'ê°ˆì¹˜êµ­', price:15000}, {item:'ê°ˆì¹˜ì¡°ë¦¼(ì†Œ)', price:40000}], reviews:[{author:'êµ­ë¬¼íŒŒ', rating:4, text:'ë¹„ë¦´ ê²ƒ ê°™ì§€ë§Œ ì „í˜€ ì•ˆë¹„ë¦¬ê³  ì‹œì›í•œ ê°ˆì¹˜êµ­ì´ ì¼í’ˆì´ì—ìš”.'}] },
                seogwipo_stay: { id: 'seogwipo_stay', name: 'ì˜¬ë ˆì‹œì¥ ê·¼ì²˜ ìˆ™ì†Œ', cost: 0, type: 'accommodation', tags: ['3ì¼ì°¨ ìˆ™ì†Œ'], lat: 33.2476, lng: 126.5615 },
            }},
        }
    },
    day4: {
        title: "4ì¼ì°¨: ì œì£¼ì˜ ì ˆê²½ ì„±ì‚° & ì•„ì‰¬ìš´ ë§ˆë¬´ë¦¬",
        slots: {
            '10:00': { icon: 'â›°ï¸', category: 'ì˜¤ì „ í™œë™ (ì„±ì‚°)', options: {
                seongsan_ilchulbong: jejuDatabase.seongsan_ilchulbong,
                udo_island: jejuDatabase.udo_island,
                seopjikoji: jejuDatabase.seopjikoji,
                gwangchigi_beach: jejuDatabase.gwangchigi_beach,
                another_activity7: { id: 'another_activity7', name: 'ì•„ì¿ ì•„í”Œë¼ë„· ì œì£¼', rating: 4.4, reviewCount: 4892, cost: 120000, type: 'activity', lat: 33.4320, lng: 126.9248, tags: ['ìˆ˜ì¡±ê´€', 'ì‹¤ë‚´', 'ê°€ì¡±'], menu:[{item:'ì„±ì¸ì…ì¥ê¶Œ', price:42400}], reviews:[{author:'ê°€ì¡±ì—¬í–‰ê°', rating:4, text:'ì•„ì‹œì•„ ìµœëŒ€ ê·œëª¨ë¼ë”ë‹ˆ ì •ë§ í¬ê³  ë³¼ê±°ë¦¬ê°€ ë§ì•„ìš”.'}] },
            }},
            '13:00': { icon: 'ğŸ´', category: 'ì ì‹¬ ì‹ì‚¬ (ì„±ì‚°/êµ¬ì¢Œ)', options: {
                seongsan_myeongjin: jejuDatabase.seongsan_myeongjin,
                another_food13: { id: 'another_food13', name: 'ê°€ì‹œì•„ë°©êµ­ìˆ˜', rating: 4.2, reviewCount: 2500, cost: 40000, type: 'food', lat: 33.4284, lng: 126.8839, tags: ['ê³ ê¸°êµ­ìˆ˜', 'ë”ë² ê³ ê¸°', 'ì„±ì‚°ë§›ì§‘'], menu:[{item:'ê³ ê¸°êµ­ìˆ˜', price:9000}, {item:'ë”ë² ê³ ê¸°(ì†Œ)', price:30000}], reviews:[{author:'êµ­ìˆ˜ë§¤ë‹ˆì•„', rating:4, text:'ìë§¤êµ­ìˆ˜ì™€ëŠ” ë˜ ë‹¤ë¥¸ ë§¤ë ¥. ë”ë² ê³ ê¸°ë„ ë¶€ë“œëŸ¬ì›Œìš”.'}] },
                another_food14: { id: 'another_food14', name: 'ë§Œì›”ë‹¹', rating: 4.5, reviewCount: 990, cost: 60000, type: 'food', lat: 33.5492, lng: 126.7909, tags: ['ì „ë³µë¦¬ì¡°ë˜', 'ê°ì„±ë§›ì§‘', 'í‰ëŒ€ë¦¬'], menu:[{item:'ì „ë³µë¦¬ì¡°ë˜', price:21000}, {item:'ëŒë¬¸ì–´íŒŒìŠ¤íƒ€', price:20000}], reviews:[{author:'ì–‘ì‹ëŸ¬ë²„', rating:5, text:'ë¶„ìœ„ê¸°ë„ ì¢‹ê³  ìŒì‹ë„ ì •ë§ ë§›ìˆì–´ìš”. íŠ¹íˆ ì „ë³µë¦¬ì¡°ë˜ ì¶”ì²œ!'}] },
            }},
            '15:00': { icon: 'ğŸ', category: 'ë§ˆì§€ë§‰ ì¹´í˜ & ê¸°ë…í’ˆ', options: {
                seongsan_orda: jejuDatabase.seongsan_orda,
                another_cafe6: { id: 'another_cafe6', name: 'ì¹´í˜ ê¸€ë Œì½”', rating: 4.6, reviewCount: 880, cost: 30000, type: 'cafe', lat: 33.4831, lng: 126.7962, tags: ['ì–‘ë–¼ëª©ì¥', 'ì´ìƒ‰ì¹´í˜', 'ì†¡ë‹¹'], menu:[{item:'ì…ì¥ë£Œ(ìŒë£Œí¬í•¨)', price:7000}], reviews:[{author:'ë™ë¬¼ì‚¬ë‘', rating:5, text:'ê·€ì—¬ìš´ ì–‘ë“¤ì—ê²Œ ë¨¹ì´ë„ ì£¼ê³  ì»¤í”¼ë„ ë§ˆì‹œê³ . ì•„ì´ë“¤ì´ ì •ë§ ì¢‹ì•„í•´ìš”.'}] },
                jamaeguksu: jejuDatabase.jamaeguksu, // ê³µí•­ ê°€ê¸° ì „ ë§ˆì§€ë§‰ ì‹ì‚¬ ì˜µì…˜
                dombedon: jejuDatabase.dombedon, // ê³µí•­ ê°€ê¸° ì „ ë§ˆì§€ë§‰ ì‹ì‚¬ ì˜µì…˜
                shopping: { id: 'shopping', name: 'ë§ˆìŒìƒŒë“œ & ê¸°ë…í’ˆ', rating: 4.5, reviewCount: 1500, cost: 50000, type: 'etc', lat: 33.5049, lng: 126.4950, tags: ['ì‡¼í•‘', 'ë§ˆìŒìƒŒë“œ', 'í•„ìˆ˜í…œ'], menu:[{item:'ë§ˆìŒìƒŒë“œ(1ë°•ìŠ¤)', price:14000}], reviews:[{author:'ì„ ë¬¼ì™•', rating:5, text:'ì œì£¼ê³µí•­ íŒŒë¦¬ë°”ê²ŒíŠ¸ì—ì„œë§Œ íŒ”ì•„ìš”. ì˜ˆì•½ í•„ìˆ˜!'}]}
            }},
            '18:00': { icon: 'ğŸ›«', category: 'ì œì£¼ê³µí•­ ì¶œë°œ', options: { departure: { id: 'departure', name: 'ì—¬í–‰ ë§ˆë¬´ë¦¬', cost: 0, type: 'etc', tags: ['í•„ìˆ˜', 'ì¶œë°œ'], lat: 33.5104, lng: 126.4913 }}},
        }
    }
};

// ì „ì—­ ë³€ìˆ˜
let googleMap, placesService, directionsService, directionsRenderer;
let activeDay = 1;
let selections = {};
let originalSelections = {};
let isNaviModeActive = false;
let isThemeSearchActive = false;
let watchId = null;
let userLocationMarker = null;
let themeMarkers = [];
let infoWindows = [];
const fixedCosts = { flight: 0, hotel: 0 };

// ì´ˆê¸°í™”
function initApp() {
    initUI();
    initMap();
    setupEventListeners();
    setupInitialState();
}

function initUI() {
    const tabsContainer = document.getElementById('day-tabs-container');
    const itineraryContainer = document.getElementById('itinerary-container');
    
    // íƒ­ ìƒì„±
    Object.keys(itineraryData).forEach((dayKey, index) => {
        const day = parseInt(dayKey.replace('day', ''));
        const tab = document.createElement('button');
        tab.className = `day-tab ${index === 0 ? 'active' : ''}`;
        tab.textContent = `${day}ì¼ì°¨`;
        tab.dataset.day = day;
        tab.onclick = () => switchDay(day);
        tabsContainer.appendChild(tab);
    });

    // ì¼ì • ì½˜í…ì¸  ìƒì„±
    Object.keys(itineraryData).forEach((dayKey, index) => {
        const day = parseInt(dayKey.replace('day', ''));
        const dayData = itineraryData[dayKey];
        
        const dayContent = document.createElement('div');
        dayContent.id = `day${day}`;
        dayContent.className = `day-content ${index > 0 ? 'hidden' : ''}`;
        dayContent.innerHTML = `
            <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-6">${dayData.title}</h2>
                <div class="timeline-container">
                    <div class="timeline-line"></div>
                    ${Object.entries(dayData.slots).map(([time, slot], slotIndex) => `
                        <div class="relative mb-8">
                            <div class="timeline-dot"></div>
                            <div class="ml-8">
                                <div class="flex items-center mb-4">
                                    <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-semibold mr-4">${time}</span>
                                    <h3 class="text-xl font-bold text-gray-800">${slot.icon} ${slot.category}</h3>
                                    <div class="distance-info ml-auto" data-day="${day}" data-time="${time}"></div>
                                </div>
                                <div class="options-grid" data-day="${day}" data-time="${time}">
                                    ${slot.options ? generateOptionsHtml(day, time, slot.options) : '<div class="text-gray-500">ë™ì  ê²€ìƒ‰ ì˜µì…˜ì´ ë¡œë“œë©ë‹ˆë‹¤...</div>'}
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            </div>
        `;
        itineraryContainer.appendChild(dayContent);
    });
}

function generateOptionsHtml(day, time, options) {
    let optionNumber = 1;
    return Object.entries(options).map(([id, option]) => `
        <div class="option-card" 
             data-id="${option.id}" 
             data-name="${option.name}" 
             data-cost="${option.cost}" 
             data-type="${option.type}" 
             data-lat="${option.lat}" 
             data-lng="${option.lng}"
             data-day="${day}"
             data-time="${time}"
             onclick="handleOptionSelect(${day}, '${time}', this)">
            <div class="card-number">${optionNumber++}</div>
             <div class="card-content-wrapper">
                <div class="flex justify-between items-start mb-2">
                    <h4 class="font-bold text-gray-800 pr-2">${option.name}</h4>
                    <span class="cost-badge whitespace-nowrap">â‚©${option.cost.toLocaleString()}</span>
                </div>
                ${option.rating ? `
                    <div class="flex items-center mb-2">
                        <div class="rating-stars mr-1">
                            ${'â˜…'.repeat(Math.round(option.rating))}${'â˜†'.repeat(5 - Math.round(option.rating))}
                        </div>
                        <span class="text-sm text-gray-600">${option.rating} (${option.reviewCount || 0})</span>
                    </div>
                ` : ''}
            </div>
            <div class="tag-container flex flex-wrap gap-1 mt-2">
                ${option.tags.map(tag => `<span class="text-xs font-semibold ${getTagColor(tag)} px-2 py-1 rounded-full">${tag}</span>`).join('')}
            </div>
        </div>
    `).join('');
}

function getTagColor(tag) {
    const colorMap = {
        'í•„ìˆ˜': 'bg-red-100 text-red-700', 'ê°€ì„±ë¹„': 'bg-green-100 text-green-700', 'í¬í† ì¡´': 'bg-purple-100 text-purple-700',
        'ì˜¤ì…˜ë·°': 'bg-blue-100 text-blue-700', 'í–¥í† ìŒì‹': 'bg-orange-100 text-orange-700', 'ì‹¤ë‚´': 'bg-cyan-100 text-cyan-700',
        'í‘ë¼ì§€': 'bg-gray-800 text-white', 'í•´ë¬¼ë¼ë©´': 'bg-red-200 text-red-800', 'ì¸ìƒìƒ·': 'bg-pink-100 text-pink-700',
        'ê°€ì¡±ì—¬í–‰': 'bg-teal-100 text-teal-700', 'ì›¨ì´íŒ…': 'bg-yellow-200 text-yellow-800'
    };
    return colorMap[tag] || 'bg-gray-100 text-gray-700';
}

function initMap() {
    try {
        googleMap = new google.maps.Map(document.getElementById('map'), {
            center: { lat: 33.385, lng: 126.55 },
            zoom: 9,
            styles: [ { featureType: "poi", elementType: "labels", stylers: [{ visibility: "off" }] } ],
            disableDefaultUI: true, zoomControl: true
        });

        placesService = new google.maps.places.PlacesService(googleMap);
        directionsService = new google.maps.DirectionsService();
        directionsRenderer = new google.maps.DirectionsRenderer({
            suppressMarkers: true,
            polylineOptions: { strokeColor: '#4f46e5', strokeWeight: 5, strokeOpacity: 0.8 }
        });
        directionsRenderer.setMap(googleMap);
        updateMapForDay(1);
    } catch (e) {
        console.error('Map initialization failed:', e);
        document.getElementById('map').innerHTML = '<div class="flex items-center justify-center h-full text-red-500">ì§€ë„ ë¡œë”© ì‹¤íŒ¨</div>';
    }
}

function setupEventListeners() {
    document.getElementById('flight-cost').addEventListener('input', e => { fixedCosts.flight = parseInt(e.target.value) || 0; updateCostDisplay(); });
    document.getElementById('hotel-cost').addEventListener('input', e => { fixedCosts.hotel = parseInt(e.target.value) || 0; updateCostDisplay(); });
    document.getElementById('theme-search-toggle').onclick = toggleThemeSearch;
    document.getElementById('reset-button').onclick = resetToOriginal;
    document.getElementById('navi-mode-toggle').onclick = toggleNaviMode;
}

function setupInitialState() {
    Object.keys(itineraryData).forEach(dayKey => {
        const day = parseInt(dayKey.replace('day', ''));
        selections[day] = {};
        Object.entries(itineraryData[dayKey].slots).forEach(([time, slot]) => {
            if (slot.options) {
                const firstOptionKey = Object.keys(slot.options)[0];
                selections[day][time] = { ...slot.options[firstOptionKey] };
                const card = document.querySelector(`.option-card[data-day="${day}"][data-time="${time}"]`);
                if (card) card.classList.add('selected');
            }
        });
    });
    originalSelections = JSON.parse(JSON.stringify(selections));
    updateAllDisplays();
}

function switchDay(day) {
    activeDay = day;
    document.querySelectorAll('.day-tab').forEach(tab => tab.classList.toggle('active', parseInt(tab.dataset.day) === day));
    document.querySelectorAll('.day-content').forEach(content => content.classList.toggle('hidden', parseInt(content.id.replace('day', '')) !== day));
    updateMapForDay(day);
    updateSelectedItemsDisplay();
}

function handleOptionSelect(day, time, cardElement) {
    const grid = cardElement.closest('.options-grid');
    const isAlreadySelected = cardElement.classList.contains('selected');
    const existingPanel = grid.querySelector('.menu-panel');
    if (existingPanel) existingPanel.remove();
    grid.querySelectorAll('.option-card').forEach(card => card.classList.remove('selected'));
    if (isAlreadySelected) {
        delete selections[day][time];
        updateAllDisplays();
        return;
    }
    cardElement.classList.add('selected');
    const optionData = {
        id: cardElement.dataset.id, name: cardElement.dataset.name, cost: parseInt(cardElement.dataset.cost),
        type: cardElement.dataset.type, lat: parseFloat(cardElement.dataset.lat), lng: parseFloat(cardElement.dataset.lng)
    };
    const detailData = jejuDatabase[optionData.id];
    if (detailData) {
        Object.assign(optionData, { menu: detailData.menu, reviews: detailData.reviews, rating: detailData.rating, reviewCount: detailData.reviewCount });
    }
    selections[day][time] = optionData;
    showMenuPanel(cardElement, optionData);
    updateAllDisplays();
}

function showMenuPanel(cardElement, optionData) {
    const grid = cardElement.closest('.options-grid');
    const hasMenu = optionData.menu && optionData.menu.length > 0;
    const hasReviews = optionData.reviews && optionData.reviews.length > 0;
    if (!hasMenu && !hasReviews) return;

    const menuPanel = document.createElement('div');
    menuPanel.className = 'menu-panel';
    menuPanel.innerHTML = `
        <div class="menu-tabs">
            ${hasMenu ? '<div class="menu-tab active" data-tab="menu">ëŒ€í‘œ ë©”ë‰´</div>' : ''}
            ${hasReviews ? `<div class="menu-tab ${!hasMenu ? 'active' : ''}" data-tab="reviews">ë¦¬ë·° (${optionData.reviewCount || 0})</div>` : ''}
        </div>
        ${hasMenu ? `<div class="menu-content active" data-content="menu">${generateMenuContent(optionData.menu)}</div>` : ''}
        ${hasReviews ? `<div class="menu-content ${!hasMenu ? 'active' : ''}" data-content="reviews">${generateReviewContent(optionData.reviews)}</div>` : ''}
    `;
    menuPanel.querySelectorAll('.menu-tab').forEach(tab => {
        tab.onclick = () => {
            menuPanel.querySelectorAll('.menu-tab, .menu-content').forEach(el => el.classList.remove('active'));
            tab.classList.add('active');
            menuPanel.querySelector(`[data-content="${tab.dataset.tab}"]`).classList.add('active');
        };
    });
    grid.appendChild(menuPanel);
    setTimeout(() => menuPanel.classList.add('open'), 50);
}

function generateMenuContent(menu) {
    return `<div class="space-y-2">${menu.slice(0, 5).map(item => `
        <div class="flex justify-between items-center py-2 border-b border-gray-200">
            <span class="font-semibold">${item.item}</span>
            <span class="font-bold text-blue-600">â‚©${item.price.toLocaleString()}</span>
        </div>`).join('')}</div>`;
}

function generateReviewContent(reviews) {
    return `<div class="space-y-4">${reviews.slice(0, 3).map(review => `
        <div class="border-b border-gray-200 pb-3">
            <div class="flex justify-between items-center mb-2">
                <span class="font-semibold">${review.author}</span>
                <div class="rating-stars">${'â˜…'.repeat(review.rating)}${'â˜†'.repeat(5 - review.rating)}</div>
            </div>
            <p class="text-gray-700 text-sm">"${review.text}"</p>
        </div>`).join('')}</div>`;
}


function updateAllDisplays() {
    updateCostDisplay();
    updateSelectedItemsDisplay();
    updateMapForDay(activeDay);
}

function updateCostDisplay() {
    const costs = { food: 0, activity: 0, etc: 0, cafe: 0 };
    Object.values(selections).forEach(daySels => {
        if (daySels) {
            Object.values(daySels).forEach(sel => {
                if (sel && sel.type !== 'accommodation') {
                    if (sel.type === 'cafe') costs.etc += sel.cost;
                    else if (costs.hasOwnProperty(sel.type)) costs[sel.type] += sel.cost;
                }
            });
        }
    });
    document.getElementById('cost-food').textContent = `â‚©${costs.food.toLocaleString()}`;
    document.getElementById('cost-activity').textContent = `â‚©${costs.activity.toLocaleString()}`;
    document.getElementById('cost-etc').textContent = `â‚©${(costs.etc + costs.cafe).toLocaleString()}`;
    const total = costs.food + costs.activity + costs.etc + costs.cafe + fixedCosts.flight + fixedCosts.hotel;
    document.getElementById('total-cost').textContent = `â‚©${total.toLocaleString()}`;
}

function updateSelectedItemsDisplay() {
    const container = document.getElementById('selected-items-container');
    const daySelections = selections[activeDay] || {};
    const sortedTimes = Object.keys(daySelections).sort();
    if (sortedTimes.length === 0) {
        container.innerHTML = '<p class="text-center text-gray-500 py-6">ì„ íƒëœ ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
        return;
    }
    container.innerHTML = `<div class="space-y-3">${sortedTimes.map(time => {
        const sel = daySelections[time];
        if (sel && sel.type !== 'accommodation') {
            return `<div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                        <div class="flex items-center"><span class="text-sm font-bold text-blue-600 w-12">${time}</span>
                        <span class="text-gray-800 font-medium">${sel.name}</span></div>
                        <span class="text-sm font-bold text-gray-800">â‚©${sel.cost.toLocaleString()}</span></div>`;
        } return '';
    }).join('')}</div>`;
}

function updateMapForDay(day) {
    if (!googleMap || !directionsRenderer) return;
    const daySelections = Object.entries(selections[day] || {}).filter(([t, s]) => s && s.lat && s.lng).sort(([tA], [tB]) => tA.localeCompare(tB)).map(([t, s]) => s);
    directionsRenderer.setDirections({routes: []});
    if (window.dayMarkers) window.dayMarkers.forEach(m => m.setMap(null));
    window.dayMarkers = [];
    if (daySelections.length === 0) return;
    const bounds = new google.maps.LatLngBounds();
    daySelections.forEach((sel, index) => {
        const pos = { lat: sel.lat, lng: sel.lng };
        bounds.extend(pos);
        const marker = new google.maps.Marker({
            position: pos, map: googleMap, label: { text: `${index + 1}`, color: 'white', fontWeight: 'bold' },
            icon: { path: google.maps.SymbolPath.CIRCLE, scale: 15, fillColor: '#4f46e5', fillOpacity: 1, strokeColor: 'white', strokeWeight: 2 },
            title: sel.name, zIndex: 1000 + index
        });
        window.dayMarkers.push(marker);
    });
    if (daySelections.length > 1) {
        const request = {
            origin: { lat: daySelections[0].lat, lng: daySelections[0].lng },
            destination: { lat: daySelections[daySelections.length - 1].lat, lng: daySelections[daySelections.length - 1].lng },
            waypoints: daySelections.slice(1, -1).map(s => ({ location: { lat: s.lat, lng: s.lng } })),
            travelMode: google.maps.TravelMode.DRIVING
        };
        directionsService.route(request, (result, status) => { if (status === 'OK') directionsRenderer.setDirections(result); });
    }
    if (userLocationMarker) bounds.extend(userLocationMarker.getPosition());
    googleMap.fitBounds(bounds);
    if (googleMap.getZoom() > 15) googleMap.setZoom(15);
}

function openInGoogleMaps() {
    const daySels = Object.values(selections[activeDay] || {}).filter(s => s && s.lat);
    if (daySels.length < 1) { alert("ë¨¼ì € ì¥ì†Œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”."); return; }
    let url = 'https://www.google.com/maps/dir/';
    if (userLocationMarker) { const pos = userLocationMarker.getPosition(); url += `${pos.lat()},${pos.lng()}/`; }
    daySels.forEach(sel => { url += `${sel.lat},${sel.lng}/`; });
    window.open(url, '_blank');
}

// ì´ ì•„ë˜ ì½”ë“œëŠ” ìˆ˜ì •í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. (í…Œë§ˆ ê²€ìƒ‰, ë¦¬ì…‹, GPS ê¸°ëŠ¥ ë“±)
function toggleThemeSearch() {
    const panel = document.getElementById('theme-search-panel');
    const toggle = document.getElementById('theme-search-toggle');
    isThemeSearchActive = !isThemeSearchActive;
    if (isThemeSearchActive) {
        panel.classList.remove('hidden');
        toggle.innerHTML = '<i class="fas fa-times mr-2"></i>ê²€ìƒ‰ ë‹«ê¸°';
        toggle.style.background = 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)';
    } else {
        panel.classList.add('hidden');
        clearThemeMarkers();
        toggle.innerHTML = '<i class="fas fa-search mr-2"></i>í…Œë§ˆ ê²€ìƒ‰';
        toggle.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
    }
}
function searchByTheme(type) {
    clearThemeMarkers();
    const jejuCenter = { lat: 33.385, lng: 126.55 };
    let keyword = '';
    switch(type) {
        case 'restaurant': keyword = 'ì œì£¼ ë§›ì§‘'; break; case 'cafe': keyword = 'ì œì£¼ ì¹´í˜'; break;
        case 'tourist_attraction': keyword = 'ì œì£¼ ê´€ê´‘ì§€'; break; case 'beach': keyword = 'ì œì£¼ í•´ìˆ˜ìš•ì¥'; break;
        case 'shopping': keyword = 'ì œì£¼ ì‡¼í•‘'; break; case 'activity': keyword = 'ì œì£¼ ì²´í—˜'; break;
    }
    const request = { location: new google.maps.LatLng(jejuCenter.lat, jejuCenter.lng), radius: 25000, keyword: keyword, language: 'ko' };
    placesService.nearbySearch(request, (results, status) => {
        if (status === google.maps.places.PlacesServiceStatus.OK && results) {
            const filtered = results.filter(p => p.rating && p.rating >= 4.0 && p.user_ratings_total > 100).sort((a,b) => b.rating - a.rating).slice(0, 20);
            filtered.forEach(place => {
                const marker = new google.maps.Marker({ position: place.geometry.location, map: googleMap, title: place.name });
                marker.addListener('click', () => { alert(`ì„ íƒëœ ì¥ì†Œ: ${place.name} (í‰ì : ${place.rating})`); });
                themeMarkers.push(marker);
            });
            if (filtered.length > 0) { const bounds = new google.maps.LatLngBounds(); filtered.forEach(place => bounds.extend(place.geometry.location)); googleMap.fitBounds(bounds); }
        }
    });
}
function clearThemeMarkers() {
    themeMarkers.forEach(marker => marker.setMap(null)); themeMarkers = [];
    infoWindows.forEach(infoWindow => infoWindow.close()); infoWindows = [];
}
function resetToOriginal() {
    if (confirm('ì›ë˜ ê³„íšëœ ì¼ì •ìœ¼ë¡œ ë˜ëŒë¦¬ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        selections = JSON.parse(JSON.stringify(originalSelections));
        document.querySelectorAll('.option-card').forEach(card => card.classList.remove('selected'));
        document.querySelectorAll('.menu-panel').forEach(panel => panel.remove());
        Object.keys(originalSelections).forEach(day => {
            Object.keys(originalSelections[day]).forEach(time => {
                const selection = originalSelections[day][time];
                const card = document.querySelector(`.option-card[data-day="${day}"][data-time="${time}"][data-id="${selection.id}"]`);
                if (card) card.classList.add('selected');
            });
        });
        if (isThemeSearchActive) toggleThemeSearch();
        updateAllDisplays();
    }
}
function toggleNaviMode() {
    const toggleButton = document.getElementById('navi-mode-toggle');
    isNaviModeActive = !isNaviModeActive;
    if (isNaviModeActive) {
        if (navigator.geolocation) {
            toggleButton.innerHTML = '<i class="loading-spinner"></i>GPS ì—°ê²° ì¤‘...';
            watchId = navigator.geolocation.watchPosition(handleLocationUpdate, handleLocationError, { enableHighAccuracy: true, timeout: 10000, maximumAge: 0 });
        } else { alert("ì´ ë¸Œë¼ìš°ì €ëŠ” ìœ„ì¹˜ ì •ë³´ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."); isNaviModeActive = false; }
    } else {
        if (watchId !== null) navigator.geolocation.clearWatch(watchId);
        watchId = null;
        if (userLocationMarker) { userLocationMarker.setMap(null); userLocationMarker = null; }
        toggleButton.innerHTML = '<i class="fas fa-location-arrow mr-2"></i>Live GPS';
        document.querySelectorAll('.distance-info').forEach(el => el.innerHTML = '');
        updateMapForDay(activeDay);
    }
}
function handleLocationUpdate(position) {
    const userLocation = { lat: position.coords.latitude, lng: position.coords.longitude };
    const toggleButton = document.getElementById('navi-mode-toggle');
    toggleButton.innerHTML = '<i class="fas fa-location-arrow mr-2"></i>GPS ì—°ê²°ë¨';
    toggleButton.style.background = 'linear-gradient(135deg, #10b981 0%, #059669 100%)';
    if (!userLocationMarker) {
        userLocationMarker = new google.maps.Marker({
            position: userLocation, map: googleMap, icon: { path: google.maps.SymbolPath.CIRCLE, scale: 8, fillColor: '#4285F4', fillOpacity: 1, strokeColor: 'white', strokeWeight: 2 },
            title: "í˜„ì¬ ë‚´ ìœ„ì¹˜", zIndex: 2000
        });
    } else { userLocationMarker.setPosition(userLocation); }
    googleMap.panTo(userLocation);
    updateMapForDay(activeDay);
}
function handleLocationError(error) {
    alert(`ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤: ${error.message}`);
    toggleNaviMode();
}
window.addEventListener('load', () => { if (typeof google === 'undefined') { setTimeout(initApp, 1000); } });
</script>

</body>
</html>
